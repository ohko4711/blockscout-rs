specVersion: 0.0.4
description: Subgraph to index Endurance Name Service Subgraph
repository: https://github.com/blockscout/blockscout-rs
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: ANSRegistry
    network: endurance-mainnet
    source:
      abi: ANSRegistry
      address: "0x152764920dfE3B8152779863c5eF407CF7b61a92"
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/ANSRegistry.ts
      entities:
        - Domain
        - Account
        - Resolver
      abis:
        - name: ANSRegistry
          file: ./abis/ANSRegistry.json
      eventHandlers:
        - event: Transfer(indexed bytes32,address)
          handler: handleTransfer
        - event: NewOwner(indexed bytes32,indexed bytes32,address)
          handler: handleNewOwner
        - event: NewResolver(indexed bytes32,address)
          handler: handleNewResolver
        - event: NewTTL(indexed bytes32,uint64)
          handler: handleNewTTL
  - kind: ethereum/contract
    name: PublicResolver
    network: endurance-mainnet
    source:
      abi: PublicResolver
      address: "0xBC56740a549CE75a039f79Bf4833BbC46fb62e93"
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/PublicResolver.ts
      entities:
        - AddrChanged
        - MulticoinAddrChanged
        - NameChanged
        - AbiChanged
        - PubkeyChanged
        - Textchanged
        - ContenthashChanged
        - InterfaceChanged
        - AuthorisationChanged
      abis:
        - name: PublicResolver
          file: ./abis/PublicResolver.json
      eventHandlers:
        - event: ABIChanged(indexed bytes32,indexed uint256)
          handler: handleABIChanged
        - event: AddrChanged(indexed bytes32,address)
          handler: handleAddrChanged
        - event: AddressChanged(indexed bytes32,uint256,bytes)
          handler: handleMulticoinAddrChanged
        - event: ContenthashChanged(indexed bytes32,bytes)
          handler: handleContentHashChanged
        - event: InterfaceChanged(indexed bytes32,indexed bytes4,address)
          handler: handleInterfaceChanged
        - event: NameChanged(indexed bytes32,string)
          handler: handleNameChanged
        - event: PubkeyChanged(indexed bytes32,bytes32,bytes32)
          handler: handlePubkeyChanged
        - event: TextChanged(indexed bytes32,indexed string,string)
          handler: handleTextChanged
  - kind: ethereum/contract
    name: EnduranceRegistrarImplementation
    network: endurance-mainnet
    source:
      abi: EnduranceRegistrarImplementation
      address: "0x21a3b31D37dC590380fcdbA471Dd0293c7019018"
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/EnduranceRegistrarImplementation.ts
      entities:
        - Registration
        - NameRegistered
        - NameRenewed
        - NameTransferred
      abis:
        - name: EnduranceRegistrarImplementation
          file: ./abis/EnduranceRegistrarImplementation.json
      eventHandlers:
        - event: NameRegistered(indexed uint256,indexed address,uint256)
          handler: handleNameRegistered
        - event: NameRenewed(indexed uint256,uint256)
          handler: handleNameRenewed
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleNameTransferred
  - kind: ethereum/contract
    name: EnduranceRegistrarController
    network: endurance-mainnet
    source:
      abi: EnduranceRegistrarController
      address: "0x22F17BD536706f9a7614e792c769247c74945B71"
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/EnduranceRegistrarController.ts
      entities:
        - Registration
      abis:
        - name: EnduranceRegistrarController
          file: ./abis/EnduranceRegistrarController.json
      eventHandlers:
        - event: NameRegistered(string,indexed bytes32,indexed address,uint256,uint256)
          handler: handleNameRegisteredByController
        - event: NameRenewed(string,indexed bytes32,uint256,uint256)
          handler: handleNameRenewedByController
